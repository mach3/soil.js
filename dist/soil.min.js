/*!
 *
 * Soil.js
 * http://mach3.github.com/soil.js
 *
 * - Library for class base programming with JavaScript
 *
 * @author mach3
 * @version 0.9
 * @require jQuery
 *
 */

var soil=window.soil||{};soil.fn={isObject:function(e){return Object.prototype.toString.call(e)==="[object Object]"},has:function(e,t){return t.hasOwnProperty(e)}},soil.extend=function(){var e,t,n;e=arguments,t=[].shift.call(e).prototype;for(n=0;n<e.length;n+=1)$.extend(t,e[n].prototype)},soil.Events=function(){},function(){this._events=[],this.on=function(e,t){return this._events.push({type:e,handler:t}),this},this.off=function(e,t){return this._events=$.map(this._events,function(n){return n.type===e&&n.handler===t?null:n}),this},this.trigger=function(e){var t=this;return $.each(this._events,function(n,r){r.type===e&&r.handler.apply(t,{type:e,target:t})}),this}}.call(soil.Events.prototype),soil.Config=function(){},function(){this.option={},this._optionInit=!1,this.config=function(){var e,t,n,r,i;e=this,t=arguments,n=t[0],r=t[1],i=soil.fn.has(n,this.option),this._optionInit||(this.option=$.extend({},this.option),this._optionInit=!0);if(typeof n=="undefined")return this.option;if(soil.fn.isObject(n))return $.each(n,function(t,n){e.config(t,n)}),this;if(typeof r=="undefined")return i?this.option[n]:null;if(soil.fn.has(n,this.option))return this.option[n]=r,this}}.call(soil.Config.prototype),soil.Model=function(){},function(){this.attr={},this._attrInit=!1,this.set=function(){var e,t;return e=this,t=arguments,this._attrInit||(this.attr=$.extend({},this.attr),this._attrInit=!0),soil.fn.isObject(t[0])?$.each(t[0],function(t,n){e.set(t,n)}):soil.fn.has(t[0],this.attr)&&(this.attr[t[0]]=t[1]),this},this.get=function(e){return typeof e=="undefined"?this.attr:soil.fn.has(e,this.attr)?this.attr[e]:null},this.validate=function(){},this.save=function(){}}.call(soil.Model.prototype),soil.Stack=function(){},function(){this._stack=[],this._stackIndex=0,this._stackInit=!1,this.add=function(){var e,t,n;e=this,t=arguments,this._stackInit||(this._stack=$.extend([],this._stack),this._stackInit=!0);for(n=0;n<t.length;n+=1)this._stack.push(t[n]);return this},this.get=function(e){return typeof e=="number"?this._stack[parseInt(e,10)]:this._stack},this.index=function(e){return typeof e=="number"?(e=parseInt(e,10),e>=0&&e<this._stack.length?(this._stackIndex=e,e):!1):this._stackIndex},this.rewind=function(){return this.index(0),this},this.next=function(){return this.index(this._stackIndex+1)},this.prev=function(){return this.index(this._stackIndex-1)},this.current=function(){return this.get(this._stackIndex)},this.each=function(e){return $.each(this._stack,e),this},this.remove=function(e){var t=[];return typeof e=="number"?(e=parseInt(e,10),this.each(function(n,r){e!==n&&t.push(r)}),this._stack=t):typeof e=="function"&&(this.each(function(n,r){e(r)||t.push(r)}),this._stack=t),this}}.call(soil.Stack.prototype);